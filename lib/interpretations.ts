import { Scale } from "./types";

// T점수 구간 정의
export type InterpretationLevel = "low" | "average" | "high";

export function getInterpretationLevel(tScore: number): InterpretationLevel {
  if (tScore < 40) return "low";
  if (tScore > 60) return "high";
  return "average";
}

// 척도별 기본 해석
export const baseInterpretations: Record<Scale, Record<InterpretationLevel, string>> = {
  mach: {
    low: "타인을 조작하거나 전략적으로 이용하는 경향이 낮습니다. 대인관계에서 진실성과 투명성을 중시하는 경향이 있으며, 도덕적 원칙을 준수하는 편입니다. 목적을 위해 수단을 가리지 않는 것보다는 정직한 방식을 선호합니다.",
    average: "상황에 따라 전략적 사고를 활용할 수 있으나, 극단적이지 않습니다. 대부분의 사람들과 유사한 수준으로, 필요에 따라 융통성 있게 대처하면서도 기본적인 윤리적 기준을 유지합니다.",
    high: "타인을 조작하거나 전략적으로 이용하는 경향이 높습니다. 목적 달성을 위해 수단을 가리지 않을 수 있으며, 타인의 감정보다는 실리를 우선시하는 경향이 있습니다. 상담 시 신뢰 관계 형성에 특별한 주의가 필요합니다.",
  },
  narc: {
    low: "자기중심적 성향이 낮으며, 타인의 의견과 감정을 존중하는 경향이 있습니다. 겸손하고 자신의 한계를 인정할 줄 아는 편이나, 경우에 따라 자신감 부족으로 나타날 수도 있습니다.",
    average: "건강한 수준의 자존감을 가지고 있으며, 과도하지 않은 자기애를 보입니다. 자신의 강점을 인식하면서도 타인의 가치를 존중하는 균형 잡힌 태도를 보입니다.",
    high: "자기중심적 성향과 과대한 자기상이 높습니다. 특별한 대우와 인정을 기대하며, 타인의 평가에 민감할 수 있습니다. 비판을 받아들이기 어려워할 수 있으며, 상담에서 자존감이 손상되는 상황에 방어적으로 반응할 수 있습니다.",
  },
  psyc: {
    low: "충동성이 낮고 감정 조절이 원활하며, 타인에 대한 공감 능력이 적절합니다. 규칙과 권위를 존중하고, 장기적인 결과를 고려하여 행동하는 경향이 있습니다.",
    average: "일반적인 수준의 감정 조절과 공감 능력을 보입니다. 상황에 따라 충동적으로 행동할 수 있으나, 대체로 적절한 범위 내에서 통제가 가능합니다.",
    high: "충동성이 높고 감정 조절이 어려울 수 있습니다. 타인에 대한 공감이 부족하고, 규칙이나 권위에 도전하는 경향이 있습니다. 반사회적 행동의 위험성이 있으므로 상담 시 각별한 주의가 필요하며, 필요시 전문 기관 연계를 고려해야 합니다.",
  },
  sadi: {
    low: "타인에게 고통을 주는 것에서 즐거움을 느끼지 않으며, 공격성이 낮습니다. 타인의 고통에 공감하고 배려하는 태도를 보입니다.",
    average: "일반적인 수준의 공격성을 보이며, 특별한 사디즘적 성향은 나타나지 않습니다. 경쟁 상황이나 갈등 시 적절한 수준에서 대응합니다.",
    high: "타인의 고통에서 즐거움을 느끼는 경향이 있으며, 공격성이 높을 수 있습니다. 대인관계에서 가학적 행동이 나타날 위험이 있습니다. 타인에게 해를 끼칠 가능성을 평가하고, 필요시 전문적 개입을 적극 고려해야 합니다.",
  },
};

// 상담자를 위한 주의사항
export const counselorNotes: Record<Scale, string> = {
  mach: "마키아벨리즘이 높은 내담자는 상담 관계에서도 전략적으로 접근할 수 있으므로, 명확한 경계 설정과 일관성 있는 태도가 중요합니다. 상담자는 조작적 행동에 휘둘리지 않으면서도, 내담자의 적응적 전략을 인정하고 발전시킬 수 있는 방향을 모색해야 합니다.",
  narc: "나르시시즘이 높은 내담자는 자존감이 손상되는 상황에서 방어적 반응을 보일 수 있습니다. 공감적이면서도 현실적인 피드백을 제공하며, 취약성을 안전하게 탐색할 수 있는 환경을 조성하는 것이 중요합니다. 직접적인 비판보다는 강점을 인정하면서 성장 가능성을 함께 탐색하는 접근이 효과적입니다.",
  psyc: "사이코패시 점수가 높은 경우, 상담 과정에서 안전과 윤리적 경계에 특별한 주의가 필요합니다. 충동 조절 문제나 공감 능력 결핍은 치료적 개입이 어려울 수 있으므로, 구체적이고 행동지향적인 접근이 유용할 수 있습니다. 필요시 정신과 협진이나 전문 기관 연계를 고려해야 합니다.",
  sadi: "사디즘 점수가 높은 경우, 타인에게 해를 끼칠 가능성을 신중하게 평가해야 합니다. 공격성과 가학적 성향이 행동화될 위험을 모니터링하고, 필요시 즉각적인 전문적 개입을 고려해야 합니다. 상담자의 안전도 중요하므로, 필요한 경우 슈퍼비전이나 팀 접근을 활용하는 것이 바람직합니다.",
};

// 점수 구간별 색상 (UI용)
export const getLevelColor = (level: InterpretationLevel): string => {
  switch (level) {
    case "low":
      return "text-blue-700 bg-blue-50";
    case "average":
      return "text-green-700 bg-green-50";
    case "high":
      return "text-red-700 bg-red-50";
  }
};

// 점수 구간별 라벨
export const getLevelLabel = (level: InterpretationLevel): string => {
  switch (level) {
    case "low":
      return "낮음";
    case "average":
      return "평균";
    case "high":
      return "높음";
  }
};
